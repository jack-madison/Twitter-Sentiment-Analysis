install.packages(c("backports", "blob", "broom", "cli", "cpp11", "data.table", "digest", "generics", "googlesheets4", "haven", "hms", "htmltools", "isoband", "knitr", "lifecycle", "lubridate", "mime", "openssl", "pillar", "R6", "readr", "reprex", "rlang", "rmarkdown", "rvest", "stringi", "tibble", "tidyr", "tinytex", "utf8", "uuid", "xfun"))
x <- 1
y <- 2
z <- x + y
z
getwd()
library(dplyr)
library(haven)
library(ggplot2)
getwd()
install.packages("binsreg")
library(dplyr)
library(haven)
library(ggplot2)
library(binsreg)
install.packages("installr")
library(installr)
updateR()
install.packages("tidyverse")
library(dplyr)
library(haven)
library(binsreg)
library(ggplot2)
setwd("C:/Users/jack-/OneDrive/Documents/GitHub/Twitter-Sentiment-Analysis/4_tweets_aggregated")
df <- read_dta("./twitter_mun_cleaned2.dta")
View(df)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = c(df$wind_speed, df$dark1, df$rain_cat4, df$temperature_cat))
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = c(df$wind_speed, df$dark1, df$rain_cat4, df$temperature_cat), na.rm = TRUE)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = c(df$wind_speed, df$dark1, df$rain_cat4, df$temperature_cat))
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = df$wind_speed)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = df$wind_speed)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, line = c(3,3))
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, line = c(2,1))
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, line = 1)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, line = 10)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999)
binsreg(y = mean_oseti_score1, x = ln_pollen_t999, data = df)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = df$wind_speed)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w=df$wind_speed)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w=df$dark1)
binsreg(y = df$mean_oseti_score1, x = df$dark1)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999)
w = df$dark1
is.vector(w)
w = df['dark1']
is.vector(w)
View(w)
w = as.vector(df$dark1)
is.vector(w)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = w)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = w, line=c(0,0))
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = w)
w = matrix(c(df$wind_speed, df$dark1, df$rain_cat4, df$temperature_cat), ncol = 4)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = w)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = w, nbins = 20)
binsreg(y = df$mean_negative, x = df$ln_pollen_t999, w = w, nbins = 20)
binsreg(y = df$mean_negative, x = df$ln_pollen_t999, w = w)
binsreg(y = df$mean_positive, x = df$ln_pollen_t999, w = w)
w = matrix(c(df$wind_speed, df$dark1, df$rain_cat4, df$temperature_cat, df$mun_id, df$month_year, df$month_pref, df$dow), ncol = 8)
binsreg(y = df$mean_positive, x = df$ln_pollen_t999, w = w)
binsreg(y = df$mean_positive, x = df$ln_pollen_t999, w = w, nbins = 20)
binsreg(y = df$mean_positive, x = df$ln_pollen_t999, w = w, nbins = 100)
binsreg(y = df$mean_positive, x = df$ln_pollen_t999, w = w, nbins = 15)
binsreg(y = df$mean_positive, x = df$ln_pollen_t999, w = w, nbins = 10)
binsreg(y = df$mean_positive, x = df$ln_pollen_t999, w = w, nbins = 15)
binsreg(y = df$mean_oseti_score2, x = df$ln_pollen_t999, w = w, nbins = 15)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = w, nbins = 15)
View(w)
View(df)
w = data.matrix(df[c("wind_speed","dark1","rain_cat4", "temperature_cat")])
library(dplyr)
library(haven)
library(binsreg)
library(ggplot2)
setwd("C:/Users/jack-/OneDrive/Documents/GitHub/Twitter-Sentiment-Analysis/4_tweets_aggregated")
df <- read_dta("./twitter_mun_cleaned2.dta")
library(dplyr)
library(haven)
library(binsreg)
library(ggplot2)
setwd("C:/Users/jack-/OneDrive/Documents/GitHub/Twitter-Sentiment-Analysis/4_tweets_aggregated")
df <- read_dta("./twitter_mun_cleaned2.dta")
w = data.matrix(df[c("wind_speed","dark1","rain_cat4", "temperature_cat")])
View(w)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = w, nbins = 15)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = w, nbins = 15)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, nbins = 15)
w = data.matrix(df[c("wind_speed","dark1","rainfall", "temperature")])
binsreg(y=df$mean_oseti_score1, x=df$ln_pollen_t999, w=w, nbins=15)
View(w)
View(df)
View(w)
w = data.matrix(df[c("wind_speed","dark1","rain_cat4", "temperature_cat")])
View(w)
w$rain_cat4 = factor(w$rain_cat4)
df$rain_cat4 <- factor(df$rain_cat4)
df$rain_cat4 <- factor(df$rain_cat4)
df$temperature_cat <- factor(df$temperature_cat)
w <- data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat")])
View(w)
View(df)
is.factor(df$temperature_cat)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = w, nbins = 15)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999, w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat")]), nbins = 15)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat")]),
nbins = 15)
df$mun_id <- factor(df$mun_id)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id")]),
nbins = 15)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id")])
)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id")]),
nbins = 20)
View(w)
w <- df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id")]
View(w)
df$month_year <- factor(df$month_year)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year")]),
nbins = 20)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year")]),
nbins = 20)
df$rain_cat4 <- factor(df$rain_cat4)
df$temperature_cat <- factor(df$temperature_cat)
df$mun_id <- factor(df$mun_id)
df$month_year <- factor(df$month_year)
df$month_pref <- factor(df$month_pref)
df$dow <- factor(df$dow)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year", "month_pref", "dow")]),
nbins = 20)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year", "month_pref", "dow")]),
nbins = 20)
View(w)
View(w)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year", "month_pref", "dow")]),
weights = df$population,
nbins = 20)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year", "month_pref", "dow")]),
weights = df$tweet_count,
nbins = 20)
df <- read_dta("./twitter_mun_cleaned2.dta")
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year", "month_pref", "dow")]),
weights = df$tweet_count,
nbins = 20)
df$rain_cat4 <- factor(df$rain_cat4)
df$temperature_cat <- factor(df$temperature_cat)
df$mun_id <- factor(df$mun_id)
df$month_year <- factor(df$month_year)
df$month_pref <- factor(df$month_pref)
df$dow <- factor(df$dow)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year", "month_pref", "dow")]),
weights = df$tweet_count,
nbins = 20)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year", "month_pref", "dow")]),
weights = df$tweet_count)
binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year", "month_pref", "dow")]),
weights = df$tweet_count,
nbins = 20)
a <- binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
w = data.matrix(df[c("wind_speed", "dark1", "rain_cat4", "temperature_cat", "mun_id", "month_year", "month_pref", "dow")]),
weights = df$tweet_count,
nbins = 20)
a$bins_plot + geom_smooth(data = df, aes(x = x = df$ln_pollen_t999, y = df$mean_oseti_score1), method = "lm")
a$bins_plot + geom_smooth(data = df, aes(x = df$ln_pollen_t999, y = df$mean_oseti_score1), method = "lm")
a <- binsreg(y = df$mean_oseti_score1, x = df$ln_pollen_t999,
nbins = 20)
a$bins_plot + geom_smooth(data = df, aes(x = df$ln_pollen_t999, y = df$mean_oseti_score1), method = "lm")
